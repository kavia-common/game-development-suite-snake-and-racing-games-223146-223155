{"is_source_file": true, "format": "JavaScript", "description": "This file implements the core logic for a snake game engine, including snake movement, direction handling, food placement, collision detection, and game state management. It exposes functions and constants to initialize and control the game, designed for integration with a UI or game loop.", "external_files": [], "external_methods": [], "published": ["INITIAL_SNAKE_LENGTH", "createSnakeEngine"], "classes": [], "methods": [{"name": "buildInitialSnake(cols, rows, startDir, length)", "description": "Creates the initial snake body positioned at the grid center, oriented opposite to starting direction to prevent immediate collisions.", "scope": "", "scopeKind": ""}, {"name": "changeDirection(key)", "description": "Updates the snake's direction based on user input, disallowing 180-degree reversals.", "scope": "createSnakeEngine", "scopeKind": "function"}, {"name": "placeFood()", "description": "Randomly places food on the grid at a location not occupied by the snake.", "scope": "createSnakeEngine", "scopeKind": "function"}, {"name": "reset()", "description": "Resets the game state to initial conditions and places new food.", "scope": "createSnakeEngine", "scopeKind": "function"}, {"name": "step()", "description": "Advances the game state by one tick: applies direction changes, moves the snake, checks collisions, manages food consumption, and updates score.", "scope": "createSnakeEngine", "scopeKind": "function"}, {"name": "createSnakeEngine({ cols = 20, rows = 20, initialLength = INITIAL_SNAKE_LENGTH, startDir = { x: 1, y: 0 }, } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["Math.floor", "Math.random", "Array.prototype.some", "Array.prototype.unshift", "Array.prototype.pop"], "search-terms": ["snakeEngine", "buildInitialSnake", "gameOver", "placeFood", "changeDirection", "step", "INITIAL_SNAKE_LENGTH", "public functions", "snake movement", "collision detection"], "state": 2, "file_id": 17, "knowledge_revision": 54, "git_revision": "3aaf05c540311e805a6da1515debd9ac301a4fd0", "revision_history": [{"37": ""}, {"46": "bbfc579e7aacce744581926b2504eba9ce45fc4e"}, {"49": "abef133c4800536c0e1c2846003ed17b82aff23a"}, {"54": "3aaf05c540311e805a6da1515debd9ac301a4fd0"}], "ctags": [{"_type": "tag", "name": "ArrowDown", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowDown: { x: 0, y: 1 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRS", "scopeKind": "class"}, {"_type": "tag", "name": "ArrowLeft", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowLeft: { x: -1, y: 0 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRS", "scopeKind": "class"}, {"_type": "tag", "name": "ArrowRight", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowRight: { x: 1, y: 0 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRS", "scopeKind": "class"}, {"_type": "tag", "name": "ArrowUp", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowUp: { x: 0, y: -1 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRS", "scopeKind": "class"}, {"_type": "tag", "name": "DIRS", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^const DIRS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "INITIAL_SNAKE_LENGTH", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^export const INITIAL_SNAKE_LENGTH = 12; \\/\\/ default larger start (raised to trigger quicker sel/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "a", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  a: { x: -1, y: 0 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRS", "scopeKind": "class"}, {"_type": "tag", "name": "back", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  const back = { x: -startDir.x, y: -startDir.y };$/", "language": "JavaScript", "kind": "class", "scope": "buildInitialSnake", "scopeKind": "class"}, {"_type": "tag", "name": "buildInitialSnake", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^function buildInitialSnake(cols, rows, startDir, length) {$/", "language": "JavaScript", "kind": "function", "signature": "(cols, rows, startDir, length)"}, {"_type": "tag", "name": "changeDirection", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  function changeDirection(key) {$/", "language": "JavaScript", "kind": "function", "signature": "(key)", "scope": "createSnakeEngine", "scopeKind": "function"}, {"_type": "tag", "name": "cols", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^    cols,$/", "language": "JavaScript", "kind": "field", "scope": "createSnakeEngine.state", "scopeKind": "class"}, {"_type": "tag", "name": "createSnakeEngine", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^export function createSnakeEngine({$/", "language": "JavaScript", "kind": "function", "signature": "({ cols = 20, rows = 20, initialLength = INITIAL_SNAKE_LENGTH, startDir = { x: 1, y: 0 }, } = {})"}, {"_type": "tag", "name": "d", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  d: { x: 1, y: 0 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRS", "scopeKind": "class"}, {"_type": "tag", "name": "newHead", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^    const newHead = { x: nx, y: ny };$/", "language": "JavaScript", "kind": "class", "scope": "createSnakeEngine.step", "scopeKind": "class"}, {"_type": "tag", "name": "placeFood", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  function placeFood() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createSnakeEngine", "scopeKind": "function"}, {"_type": "tag", "name": "reset", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  function reset() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createSnakeEngine", "scopeKind": "function"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  s: { x: 0, y: 1 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRS", "scopeKind": "class"}, {"_type": "tag", "name": "step", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  function step() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createSnakeEngine", "scopeKind": "function"}, {"_type": "tag", "name": "w", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  w: { x: 0, y: -1 },$/", "language": "JavaScript", "kind": "class", "scope": "DIRS", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^    const newHead = { x: nx, y: ny };$/", "language": "JavaScript", "kind": "property", "scope": "createSnakeEngine.step.newHead", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^    state.food = { x, y };$/", "language": "JavaScript", "kind": "field", "scope": "state.food", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowDown: { x: 0, y: 1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.ArrowDown", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowLeft: { x: -1, y: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.ArrowLeft", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowRight: { x: 1, y: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.ArrowRight", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowUp: { x: 0, y: -1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.ArrowUp", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  a: { x: -1, y: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.a", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  const back = { x: -startDir.x, y: -startDir.y };$/", "language": "JavaScript", "kind": "property", "scope": "buildInitialSnake.back", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  d: { x: 1, y: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.d", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  s: { x: 0, y: 1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.s", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  w: { x: 0, y: -1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.w", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^    const newHead = { x: nx, y: ny };$/", "language": "JavaScript", "kind": "property", "scope": "createSnakeEngine.step.newHead", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowDown: { x: 0, y: 1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.ArrowDown", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowLeft: { x: -1, y: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.ArrowLeft", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowRight: { x: 1, y: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.ArrowRight", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  ArrowUp: { x: 0, y: -1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.ArrowUp", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  a: { x: -1, y: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.a", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  const back = { x: -startDir.x, y: -startDir.y };$/", "language": "JavaScript", "kind": "property", "scope": "buildInitialSnake.back", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  d: { x: 1, y: 0 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.d", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  s: { x: 0, y: 1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.s", "scopeKind": "class"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/game-development-suite-snake-and-racing-games-223146-223155/frontend_games_ui/src/games/snake/snakeEngine.js", "pattern": "/^  w: { x: 0, y: -1 },$/", "language": "JavaScript", "kind": "property", "scope": "DIRS.w", "scopeKind": "class"}], "hash": "38dc2e7f82524603bb4cc5931bd453ff", "format-version": 4, "code-base-name": "frontend_games_ui", "filename": "frontend_games_ui/src/games/snake/snakeEngine.js", "fields": [{"name": "cols,", "scope": "createSnakeEngine.state", "scopeKind": "class", "description": "unavailable"}, {"name": "const newHead = { x: nx, y: ny };", "scope": "createSnakeEngine.step.newHead", "scopeKind": "class", "description": "unavailable"}, {"name": "state.food = { x, y };", "scope": "state.food", "scopeKind": "class", "description": "unavailable"}, {"name": "ArrowDown: { x: 0, y: 1 },", "scope": "DIRS.ArrowDown", "scopeKind": "class", "description": "unavailable"}, {"name": "ArrowLeft: { x: -1, y: 0 },", "scope": "DIRS.ArrowLeft", "scopeKind": "class", "description": "unavailable"}, {"name": "ArrowRight: { x: 1, y: 0 },", "scope": "DIRS.ArrowRight", "scopeKind": "class", "description": "unavailable"}, {"name": "ArrowUp: { x: 0, y: -1 },", "scope": "DIRS.ArrowUp", "scopeKind": "class", "description": "unavailable"}, {"name": "a: { x: -1, y: 0 },", "scope": "DIRS.a", "scopeKind": "class", "description": "unavailable"}, {"name": "const back = { x: -startDir.x, y: -startDir.y };", "scope": "buildInitialSnake.back", "scopeKind": "class", "description": "unavailable"}, {"name": "d: { x: 1, y: 0 },", "scope": "DIRS.d", "scopeKind": "class", "description": "unavailable"}, {"name": "s: { x: 0, y: 1 },", "scope": "DIRS.s", "scopeKind": "class", "description": "unavailable"}, {"name": "w: { x: 0, y: -1 },", "scope": "DIRS.w", "scopeKind": "class", "description": "unavailable"}]}